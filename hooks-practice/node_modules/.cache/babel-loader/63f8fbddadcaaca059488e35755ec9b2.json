{"ast":null,"code":"var _jsxFileName = \"C:\\\\ReactPractice\\\\hooks-practice\\\\src\\\\containers\\\\ItemContainer.tsx\";\nimport React, { useEffect, useMemo, useReducer } from 'react';\nimport { itemReducer } from '../reducers/ItemReducer';\nimport ReminderForm from '../components/ReminderForm/ReminderForm';\nimport ReminderList from '../components/ReminderList/ReminderList';\n\nconst ItemContainer = () => {\n  const initialState = [];\n  const [currentItems, dispatch] = useReducer(itemReducer, initialState);\n  useEffect(() => {\n    const fetchData = async () => {\n      fetch('http://localhost:8080/allItems', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(resData => dispatch({\n        type: 'SET',\n        items: resData\n      })).catch(err => console.log(err.message));\n    };\n\n    fetchData();\n  }, []);\n\n  const idGenerator = () => {\n    const s1 = Math.random().toString(36).substring(2, 15);\n    return s1.concat(s1);\n  };\n\n  const addItemHandler = newItem => {\n    const uniqueId = idGenerator();\n    dispatch({\n      type: \"ADD\",\n      item: {\n        id: uniqueId,\n        ...newItem\n      }\n    });\n  };\n\n  const removeItemHandler = reminderId => {\n    dispatch({\n      type: \"DELETE\",\n      id: reminderId\n    });\n  };\n\n  const reminderList = useMemo(() => {\n    return /*#__PURE__*/React.createElement(ReminderList, {\n      allItems: currentItems,\n      onRemoveItem: removeItemHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    });\n  }, [currentItems]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReminderForm, {\n    onAddItem: addItemHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, reminderList));\n};\n\nexport default ItemContainer;","map":{"version":3,"sources":["C:/ReactPractice/hooks-practice/src/containers/ItemContainer.tsx"],"names":["React","useEffect","useMemo","useReducer","itemReducer","ReminderForm","ReminderList","ItemContainer","initialState","currentItems","dispatch","fetchData","fetch","method","headers","then","res","json","resData","type","items","catch","err","console","log","message","idGenerator","s1","Math","random","toString","substring","concat","addItemHandler","newItem","uniqueId","item","id","removeItemHandler","reminderId","reminderList"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,UAApC,QAAsD,OAAtD;AACA,SAAQC,WAAR,QAA0B,yBAA1B;AACA,OAAOC,YAAP,MAAyB,yCAAzB;AACA,OAAOC,YAAP,MAAyB,yCAAzB;;AAIA,MAAMC,aAAa,GAAG,MAAkB;AACpC,QAAMC,YAAmB,GAAG,EAA5B;AACA,QAAM,CAACC,YAAD,EAAcC,QAAd,IAA0BP,UAAU,CAACC,WAAD,EAAcI,YAAd,CAA1C;AACAP,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMU,SAAS,GAAG,YAAW;AACzBC,MAAAA,KAAK,CAAC,gCAAD,EAAkC;AACnCC,QAAAA,MAAM,EAAC,KAD4B;AAEnCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAF0B,OAAlC,CAAL,CAMCC,IAND,CAMMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANb,EAOCF,IAPD,CAOMG,OAAO,IAAIR,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAC,KAAN;AAAaC,QAAAA,KAAK,EAACF;AAAnB,OAAD,CAPzB,EAQCG,KARD,CAQOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB,CARd;AASH,KAVD;;AAWAd,IAAAA,SAAS;AACZ,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMe,WAAW,GAAG,MAAa;AAC7B,UAAMC,EAAE,GAAGC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,EAAuC,EAAvC,CAAX;AACA,WAAOJ,EAAE,CAACK,MAAH,CAAUL,EAAV,CAAP;AACH,GAHD;;AAIA,QAAMM,cAAc,GAAIC,OAAD,IAAkB;AACrC,UAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACAhB,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC,KAAN;AAAaiB,MAAAA,IAAI,EAAC;AAACC,QAAAA,EAAE,EAACF,QAAJ;AAAc,WAAGD;AAAjB;AAAlB,KAAD,CAAR;AACH,GAHD;;AAIA,QAAMI,iBAAiB,GAAIC,UAAD,IAAuB;AAC7C7B,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC,QAAN;AAAgBkB,MAAAA,EAAE,EAACE;AAAnB,KAAD,CAAR;AACH,GAFD;;AAGA,QAAMC,YAAY,GAAGtC,OAAO,CAAC,MAAM;AAC/B,wBACA,oBAAC,YAAD;AAAc,MAAA,QAAQ,EAAEO,YAAxB;AAAsC,MAAA,YAAY,EAAE6B,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA;AAGP,GAJ+B,EAI7B,CAAC7B,YAAD,CAJ6B,CAA5B;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAEwB,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCO,YADD,CAFJ,CADJ;AAQH,CA3CD;;AA6CA,eAAejC,aAAf","sourcesContent":["import React, { useEffect, useMemo, useReducer } from 'react';\r\nimport {itemReducer} from '../reducers/ItemReducer';\r\nimport ReminderForm from '../components/ReminderForm/ReminderForm';\r\nimport ReminderList from '../components/ReminderList/ReminderList';\r\nimport {Item} from '../util/type';\r\n\r\n\r\nconst ItemContainer = ():JSX.Element => {\r\n    const initialState:Item[] = [];\r\n    const [currentItems,dispatch] = useReducer(itemReducer, initialState);\r\n    useEffect(() => {\r\n        const fetchData = async() => {\r\n            fetch('http://localhost:8080/allItems',{\r\n                method:'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                  }\r\n            })\r\n            .then(res => res.json())\r\n            .then(resData => dispatch({type:'SET', items:resData}))\r\n            .catch(err => console.log(err.message))\r\n        }\r\n        fetchData()\r\n    }, [])\r\n    \r\n    const idGenerator = ():string => {\r\n        const s1 = Math.random().toString(36).substring(2,15);\r\n        return s1.concat(s1);\r\n    }\r\n    const addItemHandler = (newItem:Item) => {\r\n        const uniqueId = idGenerator();\r\n        dispatch({type:\"ADD\", item:{id:uniqueId, ...newItem}});\r\n    }\r\n    const removeItemHandler = (reminderId:string) => {\r\n        dispatch({type:\"DELETE\", id:reminderId});\r\n    }\r\n    const reminderList = useMemo(() => {\r\n        return (\r\n        <ReminderList allItems={currentItems} onRemoveItem={removeItemHandler} />\r\n        );\r\n}, [currentItems]);\r\n\r\n    return(\r\n        <div className=\"App\">\r\n            <ReminderForm onAddItem={addItemHandler} />\r\n            <section>\r\n            {reminderList}\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ItemContainer;"]},"metadata":{},"sourceType":"module"}